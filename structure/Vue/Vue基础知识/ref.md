# ref

在有时候，我们需要操作DOM，可以这样子

```js
let dom = document.getElementById("xxx")
```

Vue提供了一种更加的抽象

```js
this.$refs[refName]
```

不仅如此，在对应标签上使用ref,还可以获取组件实例，在组件上使用ref,即可使用上诉语法获取组件实例，这在某些情况下很有用

## ref 的演变

在1.x中，普通DOM和组件实例获取其值，分为了

```js
v-el  用在普通DOM上

v-ref 用在组件实例上
```

在2.0时，Vue将两者合并了，我倒有个疑惑，两个不同的东西，为啥合并呢，因为容易产生混乱，但是仔细一想，区分是基于使用在不同元素上，此时已经付出了认知成本，那么两者不同形式的取值，反而增加了认知负担，所以Vue将两者进行合并，使用者只需要查看此ref在DOM还是在组件上，即可知道是什么，或者直接打印值即可，非常方便

## ref疑惑

ref是全局唯一还是局部(组件唯一)的呢？

嘻嘻，看一下源码就知道了

![uwOnnH.png](https://s2.ax1x.com/2019/10/03/uwOnnH.png)

可以看见这个是组件唯一的
