# 发布订阅模式

```js


class EventEmitter {
  constructor() {
    this._events = {

    }
  }
  on(event, callBack) {
    (this._events[event] || (this._events[event] = [])).push(callBack) 
  }
  off(event) {
    this._events[event] = []
  }
  emit(event) {
    this._events[event].forEach((cbs) => {
      cbs()
    })
  }
}

let eventEmitter = new EventEmitter();

eventEmitter.on('test', function() {
  console.log(1);
})
eventEmitter.on('test', function() {
  console.log(2);
})

eventEmitter.off('test')

eventEmitter.on('test', function() {
  console.log(3);
})

eventEmitter.emit('test')
```