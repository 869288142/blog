# 学习计划

VCA实现原理



架构
    如何抽取纯净的view

练习数据结构和算法




调整参数
调整类型
调整测试用例














Call Signatures

```
type DescribableFunction = {
  description: string;
  (someArg: number): boolean;
};
function doSomething(fn: DescribableFunction) {
  console.log(fn.description + " returned " + fn(6));
}
```

Construct Signatures
```
type SomeConstructor = {
  new (s: string): SomeObject;
};
function fn(ctor: SomeConstructor) {
  return new ctor("hello");
}
```
Constraints
```
function longest<Type extends { length: number }>(a: Type, b: Type) {
  if (a.length >= b.length) {
    return a;
  } else {
    return b;
  }
}
 
// longerArray is of type 'number[]'
const longerArray = longest([1, 2], [1, 2, 3]);
// longerString is of type 'string'
const longerString = longest("alice", "bob");
// Error! Numbers don't have a 'length' property
const notOK = longest(10, 100);
```


Optional Parameters

https://www.typescriptlang.org/docs/handbook/2/functions.html





function https://www.typescriptlang.org/docs/handbook/2/functions.html

this参数 可以避免错误使用this

class 静态声明

interface
module
    import type
    import fs = require("fs");
    esModuleInterop 
    moduleResolution


空类型是所有类型的父集合

``` js
class Empty {}
 
function fn(x: Empty) {
  // can't do anything with 'x', so I won't
}
 
// All OK!
fn(window);
fn({});
fn(fn);
```


readonly  

set
map

类型系统


    extend和交叉类型区别

    泛型
        函数
        接口
        类
        约束

    联合类型
    交叉类型
    类型别名
    接口
        接口继承
    类型断言
    字面量
    字面量模板
        联合类型
    条件类型
    枚举
    类型收窄
        typeof
        真值推导
        相等收窄
        in收窄
        ```
        type Fish = { swim: () => void };
type Bird = { fly: () => void };
 
function move(animal: Fish | Bird) {
  if ("swim" in animal) {
    return animal.swim();
  }
 
  return animal.fly();
} 
        ```

    instanceof
``` js
    function logValue(x: Date | string) {
  if (x instanceof Date) {
    console.log(x.toUTCString());
               
(parameter) x: Date
  } else {
    console.log(x.toUpperCase());
               
(parameter) x: string
  }
}
```

Assignments

```js
let x = Math.random() < 0.5 ? 10 : "hello world!";
   
let x: string | number
x = 1;
 
console.log(x);
           
let x: number
x = "goodbye!";
 
console.log(x);
           
let x: string
```
Control flow analysis
``` js
function example() {
  let x: string | number | boolean;
 
  x = Math.random() < 0.5;
 
  console.log(x);
             
let x: boolean
 
  if (Math.random() < 0.5) {
    x = "hello";
    console.log(x);
               
let x: string
  } else {
    x = 100;
    console.log(x)
               
let x: number
  }
 
  return x;
        
let x: string | number
}
```

类型谓词
``` js
function isFish(pet: Fish | Bird): pet is Fish {
  return (pet as Fish).swim !== undefined;
}

let pet = getSmallPet();
 
if (isFish(pet)) {
  pet.swim();
} else {
  pet.fly();
}
```

Discriminated unions
``` js
interface Shape {
  kind: "circle" | "square";
  radius?: number;
  sideLength?: number;
}
```



never 类型


what's new

https://www.typescriptlang.org/docs/handbook/release-notes/overview.html

类型兼容


装饰器
    类
    方法
    属性

mixin
    https://www.typescriptlang.org/docs/handbook/mixins.html
    https://justinfagnani.com/2015/12/21/real-mixins-with-javascript-classes/

资源模块

声明合并

https://www.typescriptlang.org/docs/handbook/declaration-merging.html

枚举
https://www.typescriptlang.org/docs/handbook/enums.html 

类型编程
keyof
typeof
类型索引
``` js
    const MyArray = [
  { name: "Alice", age: 15 },
  { name: "Bob", age: 23 },
  { name: "Eve", age: 38 },
];
 
type Person = typeof MyArray[number];
       
type Person = {
    name: string;
    age: number;
}
type Age = typeof MyArray[number]["age"];
     
type Age = number
// Or
type Age2 = Person["age"];
```
条件类型
``` js
 SomeType extends OtherType ? TrueType : FalseType;
```

条件类型分配

``` js
type ToArray<Type> = Type extends any ? Type[] : never;
 
type StrArrOrNumArr = ToArray<string | number>;

type ToArrayNonDist<Type> = [Type] extends [any] ? Type[] : never;
 
// 'StrArrOrNumArr' is no longer a union.
type StrArrOrNumArr = ToArrayNonDist<string | number>;
```

映射类型





