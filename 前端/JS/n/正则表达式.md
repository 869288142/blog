## 正则表达式
正则表达式本身是一种匹配模式，用计算机语言来描述我们需要匹配到的结构

### 匹配字符

#### 横向模糊匹配
**示例** 
`正则匹配到的字符串是不固定的 可以使用量词来指定片段出现的次数`
```js
var regex = /ab{2,5}c/g ;   //g 表示搜索所有符合条件的子串而不是第一个就结束
var string = "abc abbc abbbc abbbbc abbbbbc abbbbbbc";
console.log( string.match(regex) );
// => ["abbc", "abbbc", "abbbbc", "abbbbbc"]
```
**量词** 
`匹配多少次` 
![](https://user-gold-cdn.xitu.io/2019/5/19/16ace06baee1c6b1?w=1298&h=379&f=png&s=134400)

#### 纵向模糊匹配 
**示例**
`字符位本身存在多种可能`
```js
var regex = /a[123]b/g;
var string = "a0b a1b a2b a3b a4b";
console.log( string.match(regex) );
// => ["a1b", "a2b", "a3b"]
```
**字符组**
`表示匹配其中之一`
**字符组简写**
![](https://user-gold-cdn.xitu.io/2019/5/19/16ace03ed150a001?w=1287&h=545&f=png&s=221337)

**修饰符**
`g表示搜索全局匹配的字符串，没有代表第一个就停止`

### 位置匹配

#### ^ 开头
#### $ 结尾
```js
var result = "hello".replace(/^|$/g, '#');
console.log(result);
// => "#hello#"
```
#### \b 单词边界 \b 是单词边界，具体就是 \w 与 \W 之间的位置，也包括 \w 与 ^ 之间的位置，和 \w 与 $ 之间的位置。
```js
var result = "[JS] Lesson_01.mp4".replace(/\b/g, '#');
console.log(result);
// => "[#JS#] #Lesson_01#.#mp4#"
```
#### \B  非单词边界
```js      
var result = "[JS] Lesson_01.mp4".replace(/\B/g, '#');
console.log(result);
// => "#[J#S]# L#e#s#s#o#n#_#0#1.m#p#4"
```
#### (?=p)  正向先行断言
比如 (?=l)，表示 "l" 字符前面的位置，例如：
```js
var result = "hello".replace(/(?=l)/g, '#');
console.log(result);
// => "he#l#lo"
```     
#### (?!p) (?=p) 取反 负向先行断言
```js
var result = "hello".replace(/(?!l)/g, '#');
console.log(result);
// => "#h#ell#o#"
```
#### (?<=p) 负向先行断言
```js
var result = "hello".replace(/(?<=l)/g, '#');
console.log(result);
// => "hel#l#o"
``` 

### 匹配行为-贪婪匹配和惰性匹配
  
#### 贪婪匹配 
`最大范围匹配`
```js    
var regex = /\d{2,5}/g;
var string = "123 1234 12345 123456";
console.log( string.match(regex) );
// => ["123", "1234", "12345", "12345"]
```
#### 惰性匹配 ?
`减少匹配范围`
```js     
var regex = /\d{2,5}?/g;
var string = "123 1234 12345 123456";
console.log( string.match(regex) );
// => ["12", "12", "34", "12", "34", "12", "34", "56"]
```

###多选分支 
`子模式任选其一 属于惰性匹配具体形式如下：(p1|p2|p3)，其中 p1、p2 和 p3 是子模式，用 |（管道符）分隔，表示其中任何之一。`
```js  
var regex = /good|nice/g;
var string = "good idea, nice try.";
console.log( string.match(regex) );
// => ["good", "nice"]
```  
#### 应用
**千分位**
```js
var regex = /(?!^)(?=(\d{3})+$)/g;
```
### 括号 分组

#### 产生整体
```js
/ab+/ => a接上至少一个b
如何把量词作用与一个整体 
/(ab)+/
```
#### 分支结构
`表达分支的可能性`
```js
表示p1或p2表达式任选其一
var regex = /^I love (JavaScript|Regular Expression)$/;
console.log( regex.test("I love JavaScript") );
console.log( regex.test("I love Regular Expression") );
```

#### 分组引用
`用于捕获括号匹配的结果`
```js
var regex = /(\d{4})-(\d{2})-(\d{2})/g;
var string = "2017-06-12";
console.log( string.match(regex) );
console.log( RegExp.$1 ); // 2017
console.log( RegExp.$2 ); // 06
console.log( RegExp.$3 ); // 12
```

#### 反向引用
`可以引用之前出现的分组结果`
```js
// 1表示出现的一个分组中的匹配结果
var regex = /\d{4}(-|\/|\.)\d{2}\1\d{2}/;
var string1 = "2017-06-12";
var string2 = "2017/06/12";
var string3 = "2017.06.12";
var string4 = "2016-06/12";
console.log( regex.test(string1) ); // true
console.log( regex.test(string2) ); // true
console.log( regex.test(string3) ); // true
console.log( regex.test(string4) ); // false
```
#### 非捕获括号
`不捕获匹配的结果`
```js
var regex = /(?:ab)+/g;
var string = "ababa abbb ababab";
console.log( string.match(regex) );
// => ["abab", "ab", "ababab"]
```

#### 应用
```js
// 去除前后空格
function trim(str) {
return str.replace(/^\s+|\s+$/g, '');
}
// 驼峰化
function camelize (str) {
return str.replace(/[-_\s]+(.)?/g, function (match, c) {
return c ? c.toUpperCase() : '';
});
}
console.log( camelize('-moz-transform') );
// 中划线化
function dasherize (str) {
return str.replace(/([A-Z])/g, '-$1').replace(/[-_\s]+/g, '-').toLowerCase();
}
console.log( dasherize('MozTransform') );
```

### 操作符优先级

![](https://user-gold-cdn.xitu.io/2019/5/19/16ace49055253f4e?w=1334&h=592&f=png&s=293609)

![](https://user-gold-cdn.xitu.io/2019/5/19/16ace49575592d8a?w=1350&h=406&f=png&s=94394)

### 正则表达式操作
#### 验证
`检测目标字符串是否有满足匹配的子串`
```js
var regex = /\d/;
var string = "abc123";
console.log( regex.test(string) ); // true
```
#### 切分
`在匹配位置进行切分`
```js
var regex = /,/;
var string = "html,css,javascript";
console.log( string.split(regex) );
// => ["html", "css", "javascript"]
```
#### 提取
`匹配后提取部分数据`
```js
var regex = /^(\d{4})\D(\d{2})\D(\d{2})$/;
var string = "2017-06-26";
string.search(regex);
console.log( RegExp.$1, RegExp.$2, RegExp.$3 );
// => "2017" "06" "26"
```
#### 替换
`替换匹配的信息进行处理`
```js
var string = "2017-06-26";
var today = new Date( string.replace(/-/g, "/") );
console.log( today );
// => Mon Jun 26 2017 00:00:00 GMT+0800 (中国标准时间)
```



      
