# 代码整洁之道

## 私有变量
私有变量的目的是为了不想别人知道此变量，这意味着暴露内部实现，使得用户破坏内部变量成为可能，就算是安全的内部变量，外部依赖此变量，也使得耦合过于严重，使得未来的内部实现的扩展和维护困难，存取器是解决此类问题的良好方法，可以使得内部实现变更成为可能，但是更重要是的将接口抽象化，脱离具体的实现。  


## 数据对象的反对称性

过程式代码难以添加新的数据结构，面对对象代码难以添加新函数，因为必须修改所有类

![](https://user-gold-cdn.xitu.io/2019/8/4/16c5c316b298aa9b?w=726&h=502&f=png&s=104605)

此代码如果添加一个函数，形状类不受影响，而添加一个形状类，就需要修改Geometry所有涉及的函数


![](https://user-gold-cdn.xitu.io/2019/8/4/16c5c3499b79c91c?w=677&h=389&f=png&s=72396)

此代码添加一个形状类，所有函数不受影响，添加新函数所有形状都得修改

## 错误处理

使用异常而不是错误码

错误发生时传递足够的信息

别用null作为返回值，这将

## 边界

第三方代码适当封装接口

对尚不存在的代码进行考虑


## 单元测试

测试提供了毫无顾虑的代码改进的可能