import{_ as t,c as r,o as n,a as s}from"./app.a3c81315.js";const _='{"title":"TCP","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u7279\u70B9","slug":"\u7279\u70B9"},{"level":2,"title":"\u5B9E\u73B0","slug":"\u5B9E\u73B0"},{"level":3,"title":"\u4E09\u6B21\u63E1\u624B","slug":"\u4E09\u6B21\u63E1\u624B"},{"level":3,"title":"\u56DB\u6B21\u6325\u624B","slug":"\u56DB\u6B21\u6325\u624B"}],"relativePath":"\u57FA\u7840/\u7F51\u7EDC\u539F\u7406/TCP/tcp.md"}',o={},e=s('<h1 id="tcp" tabindex="-1">TCP <a class="header-anchor" href="#tcp" aria-hidden="true">#</a></h1><p>TCP\uFF08Transmission Control Protocol\uFF0C\u4F20\u8F93\u63A7\u5236\u534F\u8BAE\uFF09</p><h2 id="\u7279\u70B9" tabindex="-1">\u7279\u70B9 <a class="header-anchor" href="#\u7279\u70B9" aria-hidden="true">#</a></h2><ul><li><p>\u53EF\u9760</p></li><li><p>\u9762\u5411\u8FDE\u63A5</p></li></ul><h2 id="\u5B9E\u73B0" tabindex="-1">\u5B9E\u73B0 <a class="header-anchor" href="#\u5B9E\u73B0" aria-hidden="true">#</a></h2><p><strong>\u4E09\u6B21\u63E1\u624B\u548C\u56DB\u6B21\u6325\u624B\u662FTCP\u53EF\u9760\u7684\u4FDD\u8BC1</strong></p><h3 id="\u4E09\u6B21\u63E1\u624B" tabindex="-1">\u4E09\u6B21\u63E1\u624B <a class="header-anchor" href="#\u4E09\u6B21\u63E1\u624B" aria-hidden="true">#</a></h3><p><strong>\u57FA\u7840\u89C4\u8303</strong></p><ol><li>A --&gt; B SYN my sequence number is X</li><li>A &lt;-- B ACK your sequence number is X</li><li>A &lt;-- B SYN my sequence number is Y</li><li>A --&gt; B ACK your sequence number is Y</li></ol><p>\u53EF\u4EE5\u770B\u52302-3\u6B65\u90FD\u662FB\u53D1\u9001\u7ED9A\uFF0C\u53EF\u4EE5\u5408\u5E76</p><p><strong>\u5355\u8BCD\u7F29\u5199</strong></p><ul><li><p><strong>SYN</strong> - \u540C\u6B65\u5E8F\u5217\u7F16\u53F7\uFF08Synchronize Sequence Numbers\uFF09</p></li><li><p><strong>ACK</strong> - \u786E\u8BA4\u5B57\u7B26 (Acknowledge character\uFF09</p></li><li><p><strong>ISN</strong> - \u521D\u59CB\u5E8F\u5217\u53F7\uFF08 initial sequence number ISN\uFF09</p></li></ul><p><strong>\u8FDE\u63A5\u8FC7\u7A0B</strong></p><ol><li><p>\u5BA2\u6237\u7AEF\uFF08\u901A\u8FC7\u6267\u884C<code>connect</code>\u51FD\u6570\uFF09\u5411\u670D\u52A1\u5668\u7AEF\u53D1\u9001\u4E00\u4E2A<strong>SYN</strong>\u5305\uFF0C\u8BF7\u6C42\u4E00\u4E2A\u4E3B\u52A8\u6253\u5F00\u3002\u8BE5\u5305\u643A\u5E26\u5BA2\u6237\u7AEF\u4E3A\u8FD9\u4E2A\u8FDE\u63A5\u8BF7\u6C42\u800C\u8BBE\u5B9A\u7684\u968F\u673A\u6570**ISN(c)**\u4F5C\u4E3A\u6D88\u606F\u5E8F\u5217\u53F7\u3002</p></li><li><p>\u670D\u52A1\u5668\u7AEF\u6536\u5230\u4E00\u4E2A\u5408\u6CD5\u7684<strong>SYN</strong>\u5305\u540E\uFF0C\u628A\u8BE5\u5305\u653E\u5165<strong>SYN</strong>\u961F\u5217\u4E2D\uFF1B\u56DE\u9001\u4E00\u4E2A<strong>SYN/ACK</strong>\u3002<strong>ACK</strong>\u7684\u786E\u8BA4\u7801\u5E94\u4E3A<strong>ISN(c) + 1</strong>\uFF0C<strong>SYN/ACK</strong>\u5305\u672C\u8EAB\u643A\u5E26\u4E00\u4E2A\u968F\u673A\u4EA7\u751F\u7684\u5E8F\u53F7<strong>ISN(b) + 1</strong>\u3002</p></li><li><p>\u5BA2\u6237\u7AEF\u6536\u5230<strong>SYN/ACK</strong>\u5305\u540E\uFF0C\u53D1\u9001\u4E00\u4E2A<strong>ACK</strong>\u5305\uFF0C\u8BE5\u5305\u7684\u5E8F\u53F7\u88AB\u8BBE\u5B9A\u4E3A<strong>ISN(c) + 1</strong>\uFF0C\u800C<strong>ACK</strong>\u7684\u786E\u8BA4\u7801\u5219\u4E3A<strong>ISN(b) + 1</strong>\u3002\u7136\u540E\u5BA2\u6237\u7AEF\u7684<code>connect</code>\u51FD\u6570\u6210\u529F\u8FD4\u56DE\u3002</p></li></ol><h3 id="\u56DB\u6B21\u6325\u624B" tabindex="-1">\u56DB\u6B21\u6325\u624B <a class="header-anchor" href="#\u56DB\u6B21\u6325\u624B" aria-hidden="true">#</a></h3><ol><li><p><strong>\u5BA2\u6237\u7AEF\u53D1\u9001\u7ED9\u670D\u52A1\u5668</strong>\u3002\u5BA2\u6237\u7AEF\u4EE5<strong>FIN=1</strong>, <strong>seq=u</strong> \u7684\u5F62\u5F0F\u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF0C\u8868\u793A\u9700\u8981\u5173\u95ED\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u7684\u6570\u636E\u4F20\u8F93\u3002\u6B64\u65F6\u5BA2\u6237\u7AEF\u5904\u4E8E <strong>FIN_WAIT</strong> \u72B6\u6001\u3002</p></li><li><p><strong>\u670D\u52A1\u5668\u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF</strong>\u3002\u670D\u52A1\u5668\u6536\u5230\u4FE1\u606F\uFF0C\u5148\u8FD4\u56DE <strong>ACK</strong> \u7ED9\u5BA2\u6237\u7AEF\uFF0C\u5373\u4EE5 <strong>ACK=1</strong>, <strong>seq=v</strong>, <strong>ack=u+1</strong> \u7684\u5F62\u5F0F\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u8868\u793A\u6536\u5230\u5BA2\u6237\u7AEF\u62A5\u6587\u4E86\u3002\u6B64\u65F6\u670D\u52A1\u5668\u5904\u4E8E <strong>CLOST_WAIT</strong> \u72B6\u6001\u3002</p></li><li><p><strong>\u670D\u52A1\u5668\u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF</strong>\u3002\u670D\u52A1\u5668\u7B49\u5F85\u4E00\u4F1A\uFF0C\u770B\u5BA2\u6237\u7AEF\u8FD8\u6709\u6CA1\u6709\u6570\u636E\u6CA1\u53D1\u8FC7\u6765\uFF0C\u7B49\u5904\u7406\u5B8C\u8FD9\u4E9B\u6570\u636E\u4E4B\u540E\uFF0C\u4E5F\u60F3\u65AD\u5F00\u8FDE\u63A5\u4E86\uFF0C\u4E8E\u662F\u53D1\u9001 <strong>FIN</strong> \u7ED9\u5BA2\u6237\u7AEF\uFF0C\u5373\u4EE5 <strong>FIN=1</strong>, <strong>ACK=1</strong>, <strong>seq=w</strong>, <strong>ack=u+1</strong> \u7684\u5F62\u5F0F\u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF\u3002\u6B64\u65F6\u670D\u52A1\u5668\u5904\u4E8E <strong>LAST_ACK</strong> \u72B6\u6001\u3002</p></li><li><p><strong>\u5BA2\u6237\u7AEF\u53D1\u9001\u7ED9\u670D\u52A1\u5668</strong>\u3002\u5BA2\u6237\u7AEF\u6536\u5230 <strong>FIN</strong> \u4E4B\u540E\uFF0C\u8FD4\u56DE <strong>ACK</strong> \u62A5\u6587\u4F5C\u4E3A\u5E94\u7B54\uFF0C\u5373\u4EE5 <strong>ACK=1</strong>, <strong>seq=w+1</strong> \u7684\u5F62\u5F0F\u53D1\u9001\u7ED9\u670D\u52A1\u5668\u3002\u6B64\u65F6\u5BA2\u6237\u7AEF\u5904\u4E8E <strong>TIME_WAIT</strong> \u72B6\u6001\u3002</p></li></ol>',16),g=[e];function i(l,a,c,p,d,h){return n(),r("div",null,g)}var A=t(o,[["render",i]]);export{_ as __pageData,A as default};
